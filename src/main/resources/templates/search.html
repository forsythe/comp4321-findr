<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>findr</title>
</head>
<body>


<h1><a href="/">findr</a></h1>
<span th:text="'you previously searched for ' + ${prevQuery}"></span>
<br>
<span th:text="'you searched for ' + ${query} + ', page ' + ${pageNum}"></span>
<form th:action="@{/search}">
    <input required type="text" name="query" th:value="${query}">
    <input type="hidden" name="page" value="1">
    <input type="submit" value="Search">
</form>

<!--<hr>-->

<span th:text="${totalCrawledPages} + ' results (' + ${crawlTime} + ' seconds)'"></span>
<br><br>

<!--<div th:each="result : ${results}">-->

<!--<a th:text="${#strings.abbreviate(page.getTitle,80)} " th:href="${page.getMyUrl()}"-->
<!--class="result-title"></a>-->
<!--<br>-->
<!--</div>-->

<div th:each="page : ${results}">
    <a th:text="${#strings.abbreviate(page.getTitle(),80)} " th:href="${page.getMyUrl()}" class="result-title"></a>
    <br><span th:text="${#strings.abbreviate(page.getMyUrl(),100)}" class="result-link result-small"></span>
    <br>
    <div th:text="${page.getMetaDescription()}" class="result-small"></div>
    <!--<span th:text="'Last modified ' + ${page.getLastModified}">Last modified</span>-->
    <br>
    <!--<td th:text="${#strings.substring(page.body,100)}">Body</td>-->
</div>


<hr>

<table>
    <tr>
        <td th:each="i: ${#numbers.sequence(1,numResultPages)}">
            <div th:switch="${i}">
                <p th:case="${pageNum}" th:text="${i}" class="page-num">CUR PAGE</p>
                <p th:case="*"><a th:text="${i}" th:href="@{/search(query=${#ctx.query},page=${i})}"></a></p>
            </div>
        </td>
    </tr>
</table>


<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>-->
<!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>-->
<!--&lt;!&ndash;<script th:src="@{js/demo.js}" src="../static/js/demo.js"></script> &ndash;&gt;-->
</body>
</html>